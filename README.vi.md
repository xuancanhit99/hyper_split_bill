# Hyper Split Bill (Chia sáº» hÃ³a Ä‘Æ¡n) ğŸ§¾ğŸ’¸

Hyper Split Bill lÃ  má»™t á»©ng dá»¥ng Flutter Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ Ä‘Æ¡n giáº£n hÃ³a quÃ¡ trÃ¬nh chia sáº» cÃ¡c hÃ³a Ä‘Æ¡n chung. NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ táº£i lÃªn hÃ¬nh áº£nh hÃ³a Ä‘Æ¡n, á»©ng dá»¥ng sáº½ tá»± Ä‘á»™ng trÃ­ch xuáº¥t cÃ¡c má»¥c vÃ  giÃ¡ cáº£ báº±ng OCR vÃ  AI, chá»‰nh sá»­a chi tiáº¿t, gÃ¡n cÃ¡c má»¥c cho ngÆ°á»i tham gia vÃ  tÃ­nh toÃ¡n pháº§n chia cá»§a má»—i ngÆ°á»i.

## âœ¨ TÃ­nh nÄƒng

*   **XÃ¡c thá»±c ngÆ°á»i dÃ¹ng:** ÄÄƒng nháº­p vÃ  Ä‘Äƒng kÃ½ an toÃ n (cÃ³ thá»ƒ sá»­ dá»¥ng Supabase Auth).
*   **Táº£i lÃªn hÃ³a Ä‘Æ¡n:** Táº£i lÃªn hÃ¬nh áº£nh hÃ³a Ä‘Æ¡n tá»« thÆ° viá»‡n thiáº¿t bá»‹ hoáº·c mÃ¡y áº£nh.
*   **Cáº¯t áº£nh:** Cáº¯t áº£nh Ä‘Ã£ táº£i lÃªn Ä‘á»ƒ táº­p trung vÃ o khu vá»±c hÃ³a Ä‘Æ¡n liÃªn quan.
*   **Xá»­ lÃ½ OCR:** TrÃ­ch xuáº¥t dá»¯ liá»‡u vÄƒn báº£n tá»« hÃ¬nh áº£nh hÃ³a Ä‘Æ¡n báº±ng dá»‹ch vá»¥ Nháº­n dáº¡ng kÃ½ tá»± quang há»c (OCR).
*   **Cáº¥u trÃºc hÃ³a báº±ng AI:** Tá»± Ä‘á»™ng cáº¥u trÃºc vÄƒn báº£n Ä‘Æ°á»£c trÃ­ch xuáº¥t thÃ nh cÃ¡c má»¥c hÃ³a Ä‘Æ¡n, giÃ¡ cáº£ vÃ  cÃ³ thá»ƒ xÃ¡c Ä‘á»‹nh ngÆ°á»i tham gia báº±ng dá»‹ch vá»¥ AI/LLM.
*   **Chá»‰nh sá»­a hÃ³a Ä‘Æ¡n:** ThÃªm, chá»‰nh sá»­a hoáº·c xÃ³a cÃ¡c má»¥c hÃ³a Ä‘Æ¡n, ngÆ°á»i tham gia vÃ  thÃ´ng tin chung vá» hÃ³a Ä‘Æ¡n (vÃ­ dá»¥: tiÃªu Ä‘á», ngÃ y, Ä‘Æ¡n vá»‹ tiá»n tá»‡) theo cÃ¡ch thá»§ cÃ´ng.
*   **GÃ¡n ngÆ°á»i tham gia:** GÃ¡n cÃ¡c má»¥c cá»¥ thá»ƒ cho nhá»¯ng ngÆ°á»i tham gia khÃ¡c nhau trong hÃ³a Ä‘Æ¡n.
*   **TÃ­nh toÃ¡n chia sáº»:** Tá»± Ä‘á»™ng tÃ­nh toÃ¡n sá»‘ tiá»n má»—i ngÆ°á»i tham gia ná»£.
*   **Lá»‹ch sá»­ hÃ³a Ä‘Æ¡n:** (Giáº£ Ä‘á»‹nh) Xem vÃ  quáº£n lÃ½ cÃ¡c hÃ³a Ä‘Æ¡n Ä‘Ã£ xá»­ lÃ½ trÆ°á»›c Ä‘Ã³.
*   **TÆ°Æ¡ng tÃ¡c Chatbot:** (Tiá»m nÄƒng) TÆ°Æ¡ng tÃ¡c vá»›i chatbot Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£ hoáº·c tinh chá»‰nh dá»¯ liá»‡u cÃ³ cáº¥u trÃºc.

## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

*   **Framework:** Flutter
*   **Kiáº¿n trÃºc:** Clean Architecture (Data, Domain, Presentation)
*   **Quáº£n lÃ½ tráº¡ng thÃ¡i:** Bloc / flutter_bloc
*   **TiÃªm phá»¥ thuá»™c (Dependency Injection):** get_it / injectable
*   **Äá»‹nh tuyáº¿n (Routing):** go_router
*   **Backend:** Supabase (Auth, Database)
*   **Dá»‹ch vá»¥ bÃªn ngoÃ i:**
    *   API Dá»‹ch vá»¥ OCR (Google Gemini, Grok Vision, Google Cloud Vision, Tesseract)
    *   API Dá»‹ch vá»¥ AI/LLM (Google Gemini, Grok)
*   **Xá»­ lÃ½ áº£nh:** image_picker, image_cropper

## ğŸ—ï¸ Tá»•ng quan kiáº¿n trÃºc

á»¨ng dá»¥ng tuÃ¢n theo cÃ¡c nguyÃªn táº¯c cá»§a Clean Architecture, tÃ¡ch biá»‡t cÃ¡c má»‘i quan tÃ¢m thÃ nh ba lá»›p chÃ­nh:

1.  **Presentation (TrÃ¬nh bÃ y):** Chá»©a UI (Widgets, Pages) vÃ  Quáº£n lÃ½ tráº¡ng thÃ¡i (Blocs). Xá»­ lÃ½ tÆ°Æ¡ng tÃ¡c ngÆ°á»i dÃ¹ng vÃ  hiá»ƒn thá»‹ dá»¯ liá»‡u.
2.  **Domain (Miá»n):** Chá»©a logic nghiá»‡p vá»¥ (Use Cases) vÃ  cÃ¡c thá»±c thá»ƒ cá»‘t lÃµi (Entities). XÃ¡c Ä‘á»‹nh chá»©c nÄƒng cá»‘t lÃµi cá»§a á»©ng dá»¥ng Ä‘á»™c láº­p vá»›i UI hoáº·c nguá»“n dá»¯ liá»‡u.
3.  **Data (Dá»¯ liá»‡u):** Chá»©a cÃ¡c triá»ƒn khai Repository vÃ  Nguá»“n dá»¯ liá»‡u (Data Sources) (Remote - API, Supabase; Local - cÃ³ thá»ƒ lÃ  bá»™ Ä‘á»‡m). Xá»­ lÃ½ viá»‡c truy xuáº¥t vÃ  lÆ°u trá»¯ dá»¯ liá»‡u.

TiÃªm phá»¥ thuá»™c Ä‘Æ°á»£c quáº£n lÃ½ báº±ng `get_it` vÃ  `injectable` Ä‘á»ƒ tÃ¡ch rá»i vÃ  kiá»ƒm thá»­ dá»… dÃ ng hÆ¡n. Äiá»u hÆ°á»›ng Ä‘Æ°á»£c xá»­ lÃ½ bá»Ÿi `go_router`.

## ğŸš€ Báº¯t Ä‘áº§u

**YÃªu cáº§u:**

*   ÄÃ£ cÃ i Ä‘áº·t Flutter SDK (kiá»ƒm tra `pubspec.yaml` Ä‘á»ƒ biáº¿t cÃ¡c rÃ ng buá»™c phiÃªn báº£n)
*   ÄÃ£ cÃ i Ä‘áº·t Dart SDK
*   TrÃ¬nh soáº¡n tháº£o nhÆ° VS Code hoáº·c Android Studio
*   TÃ i khoáº£n Supabase vÃ  dá»± Ã¡n Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t láº­p
*   KhÃ³a API cho cÃ¡c dá»‹ch vá»¥ OCR vÃ  AI/LLM Ä‘Æ°á»£c sá»­ dá»¥ng

**CÃ i Ä‘áº·t & Thiáº¿t láº­p:**

1.  **Sao chÃ©p kho lÆ°u trá»¯:**
    ```bash
    git clone https://github.com/xuancanhit99/hyper_split_bill.git
    cd hyper_split_bill
    ```
2.  **Thiáº¿t láº­p biáº¿n mÃ´i trÆ°á»ng:**
    *   Sao chÃ©p tá»‡p `.env.example` thÃ nh `.env`:
        ```bash
        cp .env.example .env
        ```
    *   Äiá»n cÃ¡c giÃ¡ trá»‹ báº¯t buá»™c vÃ o tá»‡p `.env`, bao gá»“m:
        *   Supabase URL vÃ  Anon Key
        *   KhÃ³a API cho cÃ¡c dá»‹ch vá»¥ OCR vÃ  AI Ä‘Ã£ chá»n (Google AI Studio, Grok API)

3.  **CÃ i Ä‘áº·t cÃ¡c phá»¥ thuá»™c:**
    ```bash
    flutter pub get
    ```
4.  **Táº¡o mÃ£ tiÃªm phá»¥ thuá»™c:**
    ```bash
    dart run build_runner build --delete-conflicting-outputs
    ```

**Cháº¡y á»©ng dá»¥ng:**

*   **Web:**
    ```bash
    flutter run -d chrome
    ```
*   **Mobile (Android/iOS):**
    *   Äáº£m báº£o báº¡n cÃ³ thiáº¿t bá»‹ Ä‘Æ°á»£c káº¿t ná»‘i hoáº·c trÃ¬nh giáº£ láº­p/mÃ´ phá»ng Ä‘ang cháº¡y.
    *   ```bash
        flutter run
        ```

## ğŸ“ Cáº¥u trÃºc dá»± Ã¡n (thÆ° má»¥c `lib`)

```
lib/
â”œâ”€â”€ app.dart                  # Thiáº¿t láº­p widget á»©ng dá»¥ng chÃ­nh (MaterialApp, Router)
â”œâ”€â”€ injection_container.dart  # Thiáº¿t láº­p tiÃªm phá»¥ thuá»™c (GetIt)
â”œâ”€â”€ injection_module.dart     # CÃ¡c module cho injectable
â”œâ”€â”€ main.dart                 # Äiá»ƒm vÃ o á»©ng dá»¥ng
â”œâ”€â”€ common/                   # Widgets/Tiá»‡n Ã­ch dÃ¹ng chung cho cÃ¡c tÃ­nh nÄƒng
â”œâ”€â”€ core/                     # Chá»©c nÄƒng cá»‘t lÃµi (cáº¥u hÃ¬nh, háº±ng sá»‘, xá»­ lÃ½ lá»—i, Ä‘á»‹nh tuyáº¿n, chá»§ Ä‘á»)
â”‚   â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ constants/
â”‚   â”œâ”€â”€ error/
â”‚   â”œâ”€â”€ router/
â”‚   â””â”€â”€ theme/
â””â”€â”€ features/                 # CÃ¡c module tÃ­nh nÄƒng (theo Clean Architecture)
    â”œâ”€â”€ auth/                 # TÃ­nh nÄƒng xÃ¡c thá»±c
    â”‚   â”œâ”€â”€ data/
    â”‚   â”œâ”€â”€ domain/
    â”‚   â””â”€â”€ presentation/
    â””â”€â”€ bill_splitting/       # TÃ­nh nÄƒng chia sáº» hÃ³a Ä‘Æ¡n
        â”œâ”€â”€ data/             # Nguá»“n dá»¯ liá»‡u, mÃ´ hÃ¬nh, triá»ƒn khai repository
        â”œâ”€â”€ domain/           # Thá»±c thá»ƒ, trÆ°á»ng há»£p sá»­ dá»¥ng, giao diá»‡n repository
        â””â”€â”€ presentation/     # Blocs, trang, widgets